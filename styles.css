/* ======================
   Tokens de color + sistema
   ====================== */
:root{
  --navy:#1E1C3B;
  --plum:#6F3CA5;
  --lavender:#B58CD9;
  --pink:#F26FAE;
  --pink-soft:#F7D5E6;
  --bg:var(--navy);
  --panel:rgba(17,18,40,0.85);
  --panel-2:rgba(30,28,59,0.9);
  --text:#F5F6FA;
  --muted:#C8C5D8;
  --primary:var(--pink);
  --primary-600:#D85C9D;
  --accent-2:var(--plum);

  --success:#86efac;
  --warning:#fde68a;
  --danger:#fca5a5;

  --hairline:1px solid rgba(255,255,255,0.08);

  /* Layout */
  --container-max: 1150px;

  /* ====== Refresh Visual: System UI ====== */
  --radius-sm: 6px;
  --radius-md: 8px;   /* ‚Üê el radio que quieres igualar */
  --radius-lg: 12px;
  --radius-xl: 16px;

  --shadow-soft: 0 2px 6px rgba(0,0,0,0.08);
  --shadow-md:   0 4px 12px rgba(0,0,0,0.15);
  --shadow-lg:   0 8px 20px rgba(0,0,0,0.18);
  --shadow: 0 8px 24px rgba(0,0,0,0.35);

  --trans-fast: .15s ease;
  --trans-med:  .25s cubic-bezier(0.4, 0, 0.2, 1);
  --font-ui: 'Inter', 'Segoe UI', system-ui, sans-serif;

  --surface:  rgba(17,18,40,0.85);
  --surface-2:rgba(30,28,59,0.92);
  --border:   rgba(181,140,217,.28);
}


/* ======================
   Reset + base
   ====================== */
*, *::before, *::after{ box-sizing:border-box; }
html, body{
  margin:0; padding:0; height:100%;
  overflow-x:hidden;
  -webkit-text-size-adjust:100%;
}
body{
  font-family: var(--font-ui);
  font-size: 15px;
  line-height: 1.55;
  color: var(--text);
  background:
    radial-gradient(1100px 600px at 15% -10%, rgba(181,140,217,.25), transparent 60%),
    radial-gradient(900px 520px at 110% 0, rgba(242,111,174,.18), transparent 60%),
    var(--bg);
  background-color: var(--bg);
  -webkit-font-smoothing: antialiased;
}

/* üëá Esta regla iba dentro del body (no v√°lido). D√©jala afuera. */
button, input, select, textarea { 
  font: inherit; /* hereda familia, tama√±o y l√≠nea base */
}


/**************** TOASTS (notificaciones) ****************/
/* Contenedor fijo, sin bloquear clics fuera de cada toast */
#toaster{
  position: fixed;
  z-index: 9999;
  pointer-events: none;
  display: grid;
  gap: 10px;
  right: clamp(12px, 2vw, 24px);
  bottom: clamp(12px, 2vw, 24px);
}

/* Tarjeta de toast */
.toast{
  pointer-events: auto;
  display: grid;
  grid-template-columns: 22px 1fr auto;
  align-items: center;
  gap: 10px;
  padding: 12px 14px;
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  background-color: rgba(30, 30, 40, 0.85) !important; /* üí° antes era ~0.6‚Äì0.7 */
  backdrop-filter: blur(12px) saturate(160%) !important; /* mantiene el vidrio */
  -webkit-backdrop-filter: blur(12px) saturate(160%) !important;
  color: var(--text);
  box-shadow: var(--shadow-md);
  width: max(320px, 28ch);
  animation: toast-in .18s ease-out both;
}

/* Variantes */
.toast--success .toast__icon{ color: var(--success); }
.toast--error   .toast__icon{ color: var(--danger); }

/* Icono y textos */
.toast__icon{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: .95;
}
.toast__title{
  font-weight: 700;
  letter-spacing: .2px;
  line-height: 1.2;
}
.toast__meta{
  color: var(--muted);
  font-size: .92rem;
  line-height: 1.25;
}

/* Bot√≥n cerrar */
.toast__close{
  background: transparent;
  border: none;
  color: var(--muted);
  font-size: 20px;
  line-height: 1;
  padding: 4px 6px;
  border-radius: var(--radius-sm);
  cursor: pointer;
}
.toast__close:hover{ color: var(--text); }

/* Animaciones */
@keyframes toast-in{
  from{ transform: translateY(8px); opacity: 0; }
  to  { transform: translateY(0);   opacity: 1; }
}
@keyframes toast-out{
  to{ transform: translateY(8px); opacity: 0; }
}

/* ===== Popup Ficha t√©cnica (variante del toast) ===== */
/* ===== Popup ‚ÄúFicha t√©cnica‚Äù ===== */
.toast.toast--ficha{
  /* m√°s ancha y sin rejilla del toast base */
  pointer-events:auto;
  display:block;
  padding:0;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, var(--surface), var(--surface-2));
  color: var(--text);
  box-shadow: var(--shadow-lg);
  width: min(92vw, 720px);
  animation: toast-in .18s ease-out both;
  overflow: hidden; /* para que la banda superior redondee bien */
}

/* Header: banda superior con tu paleta + layout (icono | t√≠tulo | cerrar) */
.toast--ficha .toast__header{
  display:flex; align-items:center; gap:12px;
  padding: 12px 14px;
  background: linear-gradient(90deg, var(--plum), var(--pink));
  color:#fff;
}
.toast--ficha .toast__icon{ color:#fff; opacity:.95; display:inline-flex; }
.toast--ficha .toast__title{
  flex:1; text-align:center;
  font-weight:800; letter-spacing:.2px; color:#fff;
}
.toast--ficha .toast__close{
  background:transparent; border:none; color:#fff;
  font-size:20px; line-height:1; padding:4px 6px; border-radius: var(--radius-sm);
  cursor:pointer;
}
.toast--ficha .toast__close:hover{ color:#fff; opacity:.9; }

/* Cuerpo con texto ‚Äúnormal‚Äù (sin cajas) */
.toast--ficha .toast__body{
  padding: 14px 16px;
}
.toast--ficha .toast__meta{
  color: var(--muted);
  font-size: .95rem;
  margin: 0 0 10px 0;
}

/* Lista de datos plana (sin bordes ni fondos) */
.toast--ficha .toast__grid{ display:block; }
.toast--ficha .toast__row{
  display:flex; gap:10px; padding: 2px 0;
  border: 0; background: transparent;
}
.toast--ficha .toast__row span{
  min-width: 160px; color: var(--muted); font-weight:600;
}
.toast--ficha .toast__row strong{
  font-weight:600; color: var(--text);
}

/* M√≥vil: ocupa casi todo el ancho */
@media (max-width: 480px){
  .toast.toast--ficha{ width: min(96vw, 720px); }
  .toast--ficha .toast__row span{ min-width: 120px; }
}



/**************** LAYOUT ****************/
.container{
  max-width: var(--container-max);
  width: min(100%, 92vw);
  margin: 0 auto;
  padding: 0 clamp(2vw, 24px, 3vw) clamp(16px, 2vw, 24px);
}
.section{
  margin-bottom: 2.5rem;
  animation: fadeIn var(--trans-med) both;
}
@keyframes fadeIn{ from{opacity:0; transform:translateY(6px);} to{opacity:1; transform:none;} }

/**************** HEADER (refresh, full-width y sin salto de color) ****************/
.header {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 12px;

  background: linear-gradient(180deg, var(--bg) 0%, var(--surface-2) 100%);
  border: none;
  box-shadow: none;
  border-radius: 0;

  width: 100vw;
  max-width: 100vw;
  margin: 0;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);

  padding: 20px 24px;
  box-sizing: border-box;
}

/* t√≠tulos */
.header__titles {
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.header__titles h1,
.header__title {
  margin: 0;
  font-size: 1.6rem;
  font-weight: 700;
  letter-spacing: .2px;
  background: linear-gradient(90deg, var(--lavender), var(--pink));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}
.header__subtitle {
  color: var(--muted);
  font-weight: 500;
  margin: 0;
}

/* botones */
.actions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 10px;
  width: 100%;
}

/* centrado vertical y visual perfecto en los botones */
.btn {
  display: inline-flex;
  align-items: center;      /* centra √≠cono y texto verticalmente */
  justify-content: center;  /* centra horizontalmente */
  gap: 8px;
  border-radius: var(--radius-md);
  font-weight: 600;
  min-height: 44px;
  padding: 10px 16px;
  text-align: center;
  vertical-align: middle;
  border: 1px solid transparent;
  background: linear-gradient(180deg, var(--pink), var(--primary-600));
  color: #fff;
  transition: all var(--trans-fast);
}
.btn--ghost {
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text);
}
.btn__icon {
  width: 20px;
  height: 20px;
  fill: currentColor;
  flex-shrink: 0;
}


/* --- acciones (botones) --- */
.actions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 10px;
  width: 100%;
}


/**************** BOTONES (refresh) ****************/
.btn{
  display:inline-flex; align-items:center; gap:10px;
  border-radius: var(--radius-md);
  padding: 10px 16px;
  font-weight: 600;
  border: 1px solid transparent;
  color:#fff;
  background:linear-gradient(180deg, var(--pink), var(--primary-600));
  min-height:44px; touch-action:manipulation;
  transition: transform var(--trans-fast), box-shadow var(--trans-med), background var(--trans-fast), filter .15s ease;
}
.btn:hover{ transform: translateY(-1px); box-shadow: var(--shadow-md); filter:brightness(1.05); }
.btn:active{ transform: translateY(0); box-shadow: var(--shadow-soft); }
.btn--ghost{ background:transparent; border:1px solid var(--border); color:var(--text); }
.btn--ghost:hover{ background: rgba(255,255,255,0.04); border-color: var(--primary); }
.btn__icon{ width:20px; height:20px; fill:currentColor; }

/**************** SECCIONES ****************/
.section__header{ margin-bottom:12px; }
.section__title{ margin:0 0 4px 0; font-size:1.25rem; color:var(--pink); }
.section__description{ margin:0; color:var(--muted); font-size:.95rem; }

/**************** GRID util ****************/
.grid{ display:grid; gap:14px; }
.grid--2{ grid-template-columns:1fr; }
@media (min-width:720px){ .grid--2{ grid-template-columns:1fr 1fr; } }

/**************** CARDS (refresh) ****************/
.card{
  /* se mantiene tu look cl√°sico, pero con efectos del refresh */
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid rgba(111,60,165,.35);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  padding: 16px;
  display:flex; flex-direction:column;
  min-height:90px;
  transition: box-shadow var(--trans-med), transform var(--trans-fast);
}
.card:hover{ box-shadow: var(--shadow-lg); transform: translateY(-2px); }
.card__header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
.card__title{ font-weight:700; font-size:1.05rem; color:var(--lavender); }
.card__empty{ margin-top:6px; color:var(--muted); font-size:.95rem; }

/**************** LISTAS (refresh) ****************/
.list{ display:flex; flex-direction:column; gap:10px; list-style:none; margin:0; padding:0; }
.list__item{
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: 12px 14px;
  display: grid;
  grid-template-columns: 32px 1fr auto;
  align-items: center;
  transition: transform var(--trans-fast), box-shadow var(--trans-med);
  background: rgba(247,213,230,.06);
}
.list__item:hover{ box-shadow: var(--shadow-md); transform: translateY(-1px); }
#fichasView .list__item:not(.ficha-flat),
#preReservaView .list__item { 
  background: var(--surface-2);
}
.list__time{ font-variant-numeric:tabular-nums; font-weight:700; letter-spacing:.2px; color:#EAD7FF; }
.list__main{ display:flex; flex-direction:column; gap:2px; }
.list__title{ font-weight:600; }
.list__meta{ color:var(--muted); font-size:.9rem; }

/**************** BADGE ****************/
.badge{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:26px; height:26px; padding:0 8px;
  font-size:.85rem; font-weight:700; color:#fff;
  background:linear-gradient(180deg, var(--plum), #5b2f8a);
  border:1px solid rgba(181,140,217,.4);
  border-radius:999px; line-height:1;
}

/**************** TABLA (refresh + responsive base) ****************/
.table{
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  background: var(--surface);
  box-shadow: var(--shadow-md);
  overflow: hidden;
  width:100%;
  display:grid;
  gap:8px;
}
.table__row{
  display:grid;
  grid-template-columns: 1.2fr .9fr 1.1fr .8fr 1fr .9fr;
  gap:8px; 
  align-items:center;
  padding: 12px 16px;
  align-items: center;
  border-bottom: 1px solid var(--border);
  transition: background var(--trans-fast);
}
.table__row--head{ background: var(--surface-2); font-weight:700; color:var(--lavender); }
.table__row:not(.table__row--head):hover{ background: rgba(255,255,255,0.04); }
.table__actions{ display:flex; gap:8px; justify-content:flex-end; }
.table__chip{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 8px; border-radius:8px;
  border:1px solid rgba(181,140,217,.35);
  background:rgba(242,111,174,.1); color:#ffd1e6; font-weight:600; font-size:.82rem;
}

/* ===== Fichas: solo 3 columnas (Nombre | Tel√©fono | Acciones) ===== */
#fichasView .table__row{
  grid-template-columns: 1.2fr 1fr auto;
}
#fichasView .table__row > div:nth-child(3),
#fichasView .table__row > div:nth-child(4),
#fichasView .table__row > div:nth-child(5){
  display:none;
}
#fichasView .table__row--head > div:nth-child(3),
#fichasView .table__row--head > div:nth-child(4),
#fichasView .table__row--head > div:nth-child(5){
  display:none;
}

/**************** MODAL (refresh + mejoras de tama√±o/scroll) ****************/
.modal{ position:fixed; inset:0; display:none; }
.modal.is-open{ display:block; }
.modal__overlay{ position:absolute; inset:0; background: rgba(0,0,0,0.5); backdrop-filter: blur(20px); }

/* Unificado: est√©tica moderna + comportamiento fluido */
.modal__content{
  position: relative;
  width: min(92vw, 720px);
  max-height: 88vh;
  margin: 5vh auto;
  overflow: auto;
  overscroll-behavior: contain;

  background: var(--surface);
  border-radius: var(--radius-xl);
  border: 2px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 0 25px rgba(0, 0, 0, 0.5);
  animation: fadeIn var(--trans-med);
  padding: 16px;
}
/* Header: banda superior con tu paleta + layout (icono | t√≠tulo | cerrar) */
.modal__header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  background: linear-gradient(90deg, var(--plum), var(--pink)); /* mismo degradado */
  color: #fff;
}

.modal__header h3 {
  flex: 1;
  text-align: center;
  font-weight: 800;
  letter-spacing: .2px;
  color: #fff;
  margin: 0;
}

.modal__header .modal__close {
  background: transparent;
  border: none;
  color: #fff;
  font-size: 20px;
  line-height: 1;
  padding: 4px 6px;
  border-radius: var(--radius-sm);
  cursor: pointer;
}

.modal__header .modal__close:hover {
  color: #fff;
  opacity: .9;
}


.modal__footer {
  display:flex;
  justify-content:flex-end;
  gap:10px;
  margin-top:12px;
  border-top:1px solid var(--border);
  padding-top:12px;
}


.footer small {
  display: block; /* asegura que ocupe todo el ancho */
}


.modal__close{ background:transparent; border:var(--hairline); color:var(--text); padding:6px 10px; border-radius:8px; cursor:pointer; }

/* Scrollbar del modal */
.modal__content::-webkit-scrollbar{ width: 10px; }
.modal__content::-webkit-scrollbar-track{ background: rgba(247,213,230,.06); border-radius: 8px; }
.modal__content::-webkit-scrollbar-thumb{ background: var(--plum); border: 2px solid var(--pink); border-radius: 8px; }

/**************** FORM ****************/
.form__grid{ display:grid; grid-template-columns:1fr; gap:10px; margin-bottom:8px; }
.form__field{ display:flex; flex-direction:column; gap:6px; }
.form__field span{ color:var(--muted); font-weight:600; font-size:.9rem; }
.form__field input,
.form__field select,
.form__field textarea{
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: 10px 12px;
  color: var(--text);
  font-size: 0.95rem;
  background: rgba(247,213,230,.06);
  transition: border-color var(--trans-fast), box-shadow var(--trans-med);
}
.form__field input:focus,
.form__field select:focus,
.form__field textarea:focus{
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(124,92,255,0.2);
}
.form__field--full{ grid-column:1 / -1; }
@media (min-width:720px){
  .form__grid{ grid-template-columns:1fr 1fr; }
  .form__field--full{ grid-column:1 / -1; }
}

/* Select */
.form__field select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  padding-right:36px;
  border: 1px solid rgba(181,140,217,.55);
}
.form__field select option{ background-color: var(--panel-2); color: var(--text); }

/**************** MULTISELECCI√ìN ****************/
.msel{ position:relative; }
.msel__control{
  width:100%; text-align:left; padding:10px 40px 10px 12px;
  border-radius:10px; border:2px solid var(--pink);
  background: var(--plum); color: var(--text); cursor:pointer;
  display:inline-flex; align-items:center; gap:8px; box-shadow:var(--shadow);
}
.msel__control:after{
  content:""; position:absolute; right:12px; width:18px; height:18px;
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='%23F5F6FA' viewBox='0 0 24 24'><path d='M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z'/></svg>");
  background-repeat:no-repeat; background-position:center; opacity:.9;
}
.msel__control:focus{ outline:none; box-shadow:0 0 0 3px rgba(242,111,174,.25); }
.msel__panel{
  position:absolute; z-index:20; margin-top:8px; width:100%; max-height:260px; overflow:auto;
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border:2px solid var(--pink); border-radius:12px; box-shadow:var(--shadow); padding:8px; display:none;
}
.msel__panel.is-open{ display:block; }
.msel__option{ display:grid; grid-template-columns:20px 1fr; align-items:center; gap:10px; padding:8px 6px; border-radius:8px; color:var(--text); }
.msel__option:hover{ background: rgba(111,60,165,.25); }
.msel__option input[type="checkbox"]{ accent-color: var(--pink); }
.msel__placeholder{ color:var(--text); opacity:.9; font-weight:600; }

/**************** TOGGLE (refresh) ****************/
.toggle{
  background: var(--surface-2);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: 4px;
  display: inline-flex;
  gap: 4px;
}
.toggle__btn{
  background: transparent; border: none; color: var(--muted);
  padding: 8px 14px; border-radius: var(--radius-md); font-weight: 600;
  transition: background var(--trans-fast), color var(--trans-fast);
}
.toggle__btn.is-active{ background: var(--primary); color:#fff; }

/**************** COLLAPSIBLES (chevron accesible) ****************/
.card__header-actions{ display:inline-flex; align-items:center; gap:10px; }
.card__toggle{
  position:relative; display:inline-flex; align-items:center; justify-content:center;
  width:28px; height:28px; padding:0; margin:0; background:transparent; border:none; border-radius:8px;
  color:inherit; cursor:pointer; line-height:1; font-size:0;
}
.card__toggle::before{
  content:""; display:inline-block; width:16px; height:16px; background-repeat:no-repeat; background-position:center;
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='%23F5F6FA' viewBox='0 0 24 24'><path d='M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z'/></svg>");
  transition: transform .2s ease; transform-origin:50% 50%;
}
.card__toggle[aria-expanded="true"]::before{ transform: rotate(180deg); }
.card__toggle:hover{ filter:brightness(1.06); }
.card__toggle:active{ transform: translateY(0.5px); }
.card__toggle:focus{ outline:none; box-shadow:0 0 0 3px rgba(242,111,174,.25); }

/* ===== RECORDATORIOS: mismo estilo visual que HOY ===== */
.section[aria-labelledby="recordatoriosHeading"] .card {
  background: linear-gradient(145deg, var(--surface), var(--surface-2));
  border: 1px solid var(--border);
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.30);
  padding: 20px;
  transition: transform .25s ease, box-shadow .3s ease, background .25s ease;
  min-height: unset;
}

.section[aria-labelledby="recordatoriosHeading"] .card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 30px rgba(0,0,0,0.45);
}

/* Header igual que las de HOY */
.section[aria-labelledby="recordatoriosHeading"] .card__header {
  margin-bottom: 14px;
  padding: 6px 0;
}
.section[aria-labelledby="recordatoriosHeading"] .card__title {
  font-size: 1.15rem;
  font-weight: 700;
  letter-spacing: .2px;
}

/* Badge y listas igual que las de HOY */
.section[aria-labelledby="recordatoriosHeading"] .badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 42px;
  height: 28px;
  padding: 0 10px;
  border-radius: 999px;
  background: var(--surface);
  border: 1px solid var(--border);
  box-shadow: 0 4px 10px rgba(0,0,0,0.20);
  font-weight: 700;
}

.section[aria-labelledby="recordatoriosHeading"] .list {
  gap: 12px;
}
.section[aria-labelledby="recordatoriosHeading"] .list__item {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px 14px;
  display: grid;
  grid-template-columns: 32px 1fr auto;
  align-items: center;
  transition: transform .15s ease, box-shadow .25s ease;
}
.section[aria-labelledby="recordatoriosHeading"] .list__item:hover {
  box-shadow: 0 8px 20px rgba(0,0,0,0.28);
  transform: translateY(-2px);
}
.section[aria-labelledby="recordatoriosHeading"] .list__title {
  font-weight: 600;
}
.section[aria-labelledby="recordatoriosHeading"] .list__meta {
  color: var(--muted);
  font-size: 0.92rem;
}


/**************** HOY ‚Äî feeling app moderna ****************/
#homeView .card{
  background: linear-gradient(145deg, var(--surface), var(--surface-2));
  border: 1px solid var(--border);
  border-radius: var(--radius-md); /* üîπ igual que los botones del header */
  box-shadow: var(--shadow-md);
  padding: 8px 14px 6px 14px; /* arriba, a la derecha, abajo, a la izquierda */
  transition: transform .25s ease, box-shadow .3s ease, background .25s ease;
}

#homeView .card:hover{ transform: translateY(-4px); box-shadow: 0 12px 30px rgba(0,0,0,0.45); }
#homeView .card__header{ margin-bottom:14px; }
#homeView .card__title{ font-size:1.15rem; font-weight:700; letter-spacing:.2px; }
#homeView .badge{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:42px; height:28px; padding:0 10px; border-radius:999px;
  background: var(--surface); border:1px solid var(--border); box-shadow:0 4px 10px rgba(0,0,0,0.20); font-weight:700;
}
#homeView .list{ gap:12px; }
#homeView .list__item{
  background: var(--surface); border:1px solid var(--border); border-radius:12px; padding:12px 14px;
  display:grid; grid-template-columns:32px 1fr auto; align-items:center;
  transition: transform .15s ease, box-shadow .25s ease;
}
#homeView .list__item:hover{ box-shadow: 0 8px 20px rgba(0,0,0,0.28); transform: translateY(-2px); }
#homeView .card__empty{
  background: var(--surface); border:1px solid var(--border); border-radius:12px; padding:14px; color:var(--muted);
}
#homeView *{
  transition: background-color .25s ease, border-color .25s ease, color .25s ease, box-shadow .3s ease, transform .2s ease;
}

/* ===== Turnos de hoy ‚Äî layout limpio (contenido | bot√≥n) ===== */
#turnosHoyList .list__item{
  grid-template-columns: 1fr auto;   /* quita la columna 'icono' */
}
#turnosHoyList .list__item > :first-child{
  display:none;                      /* por si existe una celda de icono/hora */
}
@media (max-width:720px){
  #turnosHoyList .list__item{ grid-template-columns: 1fr; }
  #turnosHoyList .btn{ width:100%; justify-self:stretch; text-align:center; }
}

/**************** HEADER mobile-first ****************/
@media (max-width:720px){
  .header{ display:flex; flex-direction:column; align-items:stretch; gap:12px; }
  .actions{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 10px;
  width: 100%;
}

}

/**************** TABLA ‚Äî responsive (<=720px) ****************/
@media (max-width: 720px){
  .table__row--head{ display:none; }
  .table__row{
    grid-template-columns:1fr; gap:10px; padding:12px;
    border:1px solid rgba(181,140,217,.35); border-radius:12px; background: rgba(247,213,230,.06);
  }
  .table__row > div{
    display:grid; grid-template-columns:130px 1fr; align-items:center; gap:10px;
  }
  .table__row > div::before{
    content: attr(data-label);
    color: var(--muted); font-weight:600;
  }
  .table__row > div:nth-child(1)::before{ content:"Nombre"; }
  .table__row > div:nth-child(2)::before{ content:"Tel√©fono"; }
  .table__row > div:nth-child(3)::before{ content:"Correo"; }
  .table__row > div:nth-child(4)::before{ content:"Cumple"; }
  .table__row > div:nth-child(5)::before{ content:"Detalle"; }
  .table__row > div:nth-child(6)::before{ content:"Acciones"; }
  .table__actions{ justify-content:flex-start; flex-wrap:wrap; }
}

/* <=420px: etiqueta arriba, valor abajo */
@media (max-width:420px){ .table__row > div{ grid-template-columns:1fr; } }

/* <=360px: centra y reduce espacios */
@media (max-width:360px){
  .table__row > div{ grid-template-columns:1fr; text-align:center; gap:6px; }
  .container{ padding:12px; }
}

/**************** HOY ‚Äî grid que cabe en 320px ****************/
.section[aria-labelledby="hoyHeading"] .card{
  padding: 10px 16px;
  /* border-radius:10px;  ‚Üê quitado para no sobreescribir los radios por-card */
  min-height: auto;
}
.section[aria-labelledby="hoyHeading"] .card__header{ padding: 6px 0; }
.section[aria-labelledby="hoyHeading"] .card__content{ padding-block: 6px; }
.section[aria-labelledby="hoyHeading"] .card,
.section[aria-labelledby="hoyHeading"] .list__item,
.section[aria-labelledby="hoyHeading"] .card__title{ line-height: 1.2; }

/* m√°s espacio entre el header y la secci√≥n HOY */
.section[aria-labelledby="hoyHeading"]{
  margin-top: 40px;   /* ajusta 24‚Äì56px a gusto */
}

/* ======== HOY ‚Üí ‚ÄúTurnos de hoy‚Äù en un √∫nico rect√°ngulo ======== */
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="turnosHoyHeading"]{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);   /* igual que los botones del header */
  box-shadow: var(--shadow-md);
  padding: 10px 14px;
}
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="turnosHoyHeading"] .card__header{
  background: transparent; border: none; padding: 0; margin-bottom: 6px;
  display: grid; grid-template-columns: 1fr auto; align-items: center; column-gap: 12px;
}
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="turnosHoyHeading"] .card__title{
  color: var(--lavender); margin: 0;
}
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="turnosHoyHeading"] .card__header > .badge{ margin-right: 6px; }
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="turnosHoyHeading"] .card__toggle{ background: transparent; border: none; padding: 0; }
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="turnosHoyHeading"] .card__content{
  background: transparent; border: none; border-radius: 0;
  padding: 0; margin-top: 8px;
}
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="turnosHoyHeading"] .list__item{
  background: rgba(247,213,230,.06);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
}

/* ======== HOY ‚Üí ‚ÄúCumplea√±os hoy‚Äù igual a Turnos ======== */
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="cumplesHoyHeading"]{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-md);
  padding: 10px 14px;
}
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="cumplesHoyHeading"] .card__header{
  background: transparent; border: none; padding: 0; margin-bottom: 6px;
  display: grid; grid-template-columns: 1fr auto; align-items: center; column-gap: 12px;
}
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="cumplesHoyHeading"] .card__title{
  color: var(--lavender); margin: 0;
}
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="cumplesHoyHeading"] .card__header > .badge{ margin-right: 6px; }
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="cumplesHoyHeading"] .card__toggle{ background: transparent; border: none; padding: 0; }
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="cumplesHoyHeading"] .card__content{
  background: transparent; border: none; border-radius: 0;
  padding: 0; margin-top: 8px;
}
.section[aria-labelledby="hoyHeading"] article[aria-labelledby="cumplesHoyHeading"] .list__item{
  background: rgba(247,213,230,.06);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
}

/* ======== RECORDATORIOS ‚Üí ‚ÄúReservas por confirmar‚Äù igual a Turnos ======== */
/* Usa el id real de tu <h2>: confirmarHeading */
.section[aria-labelledby="recordatoriosHeading"] article[aria-labelledby="confirmarHeading"]{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-md);
  padding: 10px 14px;
}

/* Header igual que Turnos y Cumplea√±os: t√≠tulo a la izquierda, contador a la derecha */
.section[aria-labelledby="recordatoriosHeading"] article[aria-labelledby="confirmarHeading"] .card__header{
  background: transparent;
  border: none;
  padding: 0;
  margin-bottom: 6px;

  display: grid;
  grid-template-columns: 1fr auto;    /* t√≠tulo | (badge+toggle) */
  align-items: center;
  column-gap: 12px;
}

/* T√≠tulo lavanda, alineado arriba */
.section[aria-labelledby="recordatoriosHeading"] article[aria-labelledby="confirmarHeading"] .card__title{
  color: var(--lavender);
  margin: 0;
}

/* Badge y toggle alineados a la derecha */
.section[aria-labelledby="recordatoriosHeading"] article[aria-labelledby="confirmarHeading"] .card__header > .badge{
  margin-right: 6px;
}
.section[aria-labelledby="recordatoriosHeading"] article[aria-labelledby="confirmarHeading"] .card__toggle{
  background: transparent;
  border: none;
  padding: 0;
}

/* Contenido desplegable integrado (sin segunda caja) */
.section[aria-labelledby="recordatoriosHeading"] article[aria-labelledby="confirmarHeading"] .card__content{
  background: transparent;
  border: none;
  border-radius: 0;
  padding: 0;
  margin-top: 8px;
}

/* √çtems de lista con mismo look */
.section[aria-labelledby="recordatoriosHeading"] article[aria-labelledby="confirmarHeading"] .list__item{
  background: rgba(247,213,230,.06);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
}


@media (max-width:360px){
  .section[aria-labelledby="hoyHeading"] .grid--2{ grid-template-columns:1fr; }
}


/**************** LISTAS compactas en m√≥viles angostos ****************/
@media (max-width:480px){
  .list__item{
    grid-template-columns: 1fr;
    gap: 8px;
    text-align: center;
  }
  .list__time{ order:-1; }
}


/**************** TRANSICIONES GLOBALES ****************/
*{ transition: background-color var(--trans-med), border-color var(--trans-med), color var(--trans-med); }


*:not([class*="icon"]) {
  font-family: var(--font-ui);
}


/* M√≥vil: toasts centrados abajo y m√°s compactos */
@media (max-width: 480px){
  #toaster{
    left: 50%;
    right: auto;
    bottom: max(12px, env(safe-area-inset-bottom)); /* evita notch */
    transform: translateX(-50%);
    width: min(92vw, 560px);
    justify-items: stretch;
  }
  .toast{
    grid-template-columns: 24px 1fr auto;
    padding: 10px 12px;
  }
  .toast__title{ font-weight: 700; }
  .toast__meta{ font-size: .88rem; }
}

/* Tablet+: esquina inferior derecha, tama√±o c√≥modo */
@media (min-width: 481px){
  #toaster{ right: clamp(12px, 2vw, 24px); bottom: clamp(12px, 2vw, 24px); }
  .toast{ width: max(320px, 28ch); }
}

/* Evitar desbordes de texto largos en datos de reserva */
.toast__meta{
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* ===== Popup Ficha t√©cnica: filas como texto simple ===== */
.toast--ficha .toast__grid{
  display: grid;
  gap: 6px;                 /* separaci√≥n suave entre filas */
}

.toast--ficha .toast__row{
  display: grid;
  grid-template-columns: auto 1fr;   /* etiqueta | valor */
  align-items: baseline;
  gap: 10px;
  padding: 0;               /* sin relleno ‚Äúde tarjeta‚Äù */
  background: transparent;  /* sin fondo */
  border: none;             /* sin borde */
  box-shadow: none;         /* sin sombra */
}

.toast--ficha .toast__row span{
  color: var(--muted);
  font-weight: 600;         /* etiqueta */
}

.toast--ficha .toast__row strong{
  font-weight: 700;         /* valor */
  overflow-wrap: anywhere;  /* evita desbordes raros */
}




/* === Estilo y orden para la lista de Reservas por confirmar === */

.list--prereservas .list__item {
  display: flex;
  flex-direction: column;
  gap: 8px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 10px;
  padding: 10px 12px;
}

/* --- Fila principal: nombre a la izquierda, tel√©fono a la derecha --- */
.list--prereservas .list__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

.list--prereservas .list__header .list__title {
  font-weight: 600;
  font-size: 1rem;
  text-align: left;   /* üëà asegura que el nombre siempre est√© a la izquierda */
}

.list--prereservas .list__header .list__meta {
  font-size: 0.85rem;
  color: var(--muted, #aaa);
  text-align: right;  /* üëà tel√©fono a la derecha */
}

/* --- Meta de fecha/hora y servicio debajo --- */
.list--prereservas .list__main {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
  font-size: 0.9rem;
}

/* --- Servicio como pastilla (mismo estilo que Turnos) --- */
.list--prereservas .list__main .service-badge {
  padding: 2px 6px;
  border: 1px solid var(--accent, #c77dff);
  border-radius: 6px;
  background: rgba(199,125,255,0.15);
  font-size: 0.8em;
}

/* --- Bot√≥n Confirmado igual que los de Turnos pero full-width --- */
.list--prereservas .list__actions {
  display: flex;
  margin-top: 6px;
}

.list--prereservas .list__actions .btn {
  width: 100%;
  justify-content: center;
}



/* ====== PRERESERVAS ORDENADAS ====== */
.list--prereservas .list__item{
  display: grid;
  grid-template-columns: 1fr auto;   /* izquierda: nombre/meta | derecha: tel√©fono */
  grid-template-rows: auto auto auto;/* header | meta | acciones */
  gap: 8px 12px;
  padding: 10px 12px;
  border-radius: 10px;
  background: rgba(255,255,255,0.05);
}

/* Header: nombre izquierda, tel√©fono derecha */
.list--prereservas .pr-header{
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
}
.list--prereservas .pr-title{
  font-weight: 600;
  font-size: 1rem;
  text-align: left;           /* <- nombre SIEMPRE a la izquierda */
}
.list--prereservas .pr-phone{
  font-size: .85rem;
  color: var(--muted, #aaa);
  text-align: right;          /* <- tel√©fono a la derecha */
}

/* Meta: fecha, hora y pastilla de servicio */
.list--prereservas .pr-meta{
  grid-column: 1 / -1;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
  font-size: .9rem;
}
.list--prereservas .pr-muted{
  color: var(--muted, #bbb);
}
.list--prereservas .badge-service{
  padding: 2px 6px;
  border: 1px solid var(--accent, #c77dff);
  border-radius: 6px;
  background: rgba(199,125,255,0.15);
  font-size: .8em;
}

/* Acciones: bot√≥n Confirmado a todo lo ancho */
.list--prereservas .pr-actions{
  grid-column: 1 / -1;
}
.btn--block{
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Responsive: una columna en pantallas chicas */
@media (max-width: 560px){
  .list--prereservas .pr-header{
    grid-template-columns: 1fr; /* tel√©fono baja */
  }
  .list--prereservas .pr-phone{
    text-align: left;
    margin-top: 2px;
  }
}



/* === Fichas T√©cnicas planas (solo las que lleven .ficha-flat) === */
#fichasList .list__item.ficha-flat{
  border: 0 !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  outline: 0 !important;

  background: rgba(20,18,40,0.90) !important; /* o var(--surface-2) */
  padding: 12px 0 !important;                 /* full ancho sin padding lateral */
  width: 100%;
}

/* Aire solo al contenido (nombre/tel√©fono/botones) */
#fichasList .list__item.ficha-flat > *{
  padding: 0 12px !important;
}

/* Hover */
#fichasList .list__item.ficha-flat:hover{
  background: rgba(25,22,45,0.95) !important;
  box-shadow: none !important;
  transform: none !important;
}

/* Por si alg√∫n pseudo-elemento dibuja marco */
#fichasList .list__item.ficha-flat::before,
#fichasList .list__item.ficha-flat::after{
  display: none !important;
}



/* ===== CALENDARIO ‚Äì alineado con el DOM actual (calendar__day / calendar__items) ===== */

/* Leyenda arriba y controles con mes centrado */
.calendar__header{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.calendar__legend{
  order:1;
  display:flex;
  gap:8px;
  justify-content:center;
}
.calendar__controls{
  order:2;
  display:grid;
  grid-template-columns:48px 1fr 48px;
  gap:8px;
  align-items:center;
}
#calPrev,#calNext{ width:100%; }
#calTitle{ text-align:center; }

/* Cabecera L M X J V S D */
.calendar__weekdays{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:6px;
  margin:6px 0 8px;
  text-align:center;
  font-weight:700;
  color:var(--muted);
}

/* Grilla de d√≠as */
#calGrid.calendar__grid{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:8px;
}

/* Celda del d√≠a */
.calendar__cell{
  position:relative;
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius-md);
  aspect-ratio:1/1;
  min-height:auto;
  padding:8px;            /* deja borde interior */
  box-shadow:var(--shadow-soft);
  overflow:hidden;
  transition:background-color .2s ease;
}
.calendar__cell:hover{ background:rgba(255,255,255,.03); }

/* Zona del n√∫mero del d√≠a (clicable, m√°s alta) */
.calendar__day{
  position:relative;
  z-index:2;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:var(--lavender);
  line-height:1;
  font-size:1.2rem;   /* n√∫mero m√°s grande */
  padding:8px 4px;    /* m√°s alto para el toque */
  border-radius:8px;
  user-select:none;
}

/* Contenedor de items bajo el n√∫mero (no lo tapa) */
.calendar__items{
  position:absolute;
  /* altura reservada debajo del n√∫mero (igual a padding-top + altura aprox del n√∫mero) */
  top:42px;             /* ‚Üê separa de la zona del n√∫mero */
  left:8px;
  right:8px;
  bottom:8px;
  display:flex;
  flex-direction:column;
  gap:4px;
  font-size:.75rem;
  line-height:1.15;
  overflow:auto;        /* scroll si se llena */
}

/* √çtems del calendario (reservas, prereservas, cumples) */
.calitem{
  display:grid;
  grid-template-columns:auto 1fr;
  gap:6px;
  align-items:center;
  padding:4px 6px;
  border-radius:8px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
}
.calitem__time{ font-variant-numeric:tabular-nums; opacity:.9; }
.calitem__name{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.calitem--reserva{
  border-color:rgba(242,111,174,.45);
  background:rgba(242,111,174,.15);
}
.calitem--prereserva{
  border-color:rgba(181,140,217,.45);
  background:rgba(181,140,217,.15);
}
.calitem--cumple{
  border-color:rgba(134,239,172,.45);
  background:rgba(134,239,172,.18);
}

/* Celdas vac√≠as (huecos antes del d√≠a 1) */
.calendar__cell--muted{
  opacity:.35;
  background:transparent;
  box-shadow:none;
}

/* Hoy resaltado suave */
.calendar__cell--today{
  box-shadow:0 0 0 2px rgba(242,111,174,.30) inset;
  background:rgba(242,111,174,.05);
}

/* Colorear la celda seg√∫n contenido (tinte suave) */
.calendar__cell--has-reserva{
  border-color:rgba(242,111,174,.45);
  background:rgba(242,111,174,.08);
  box-shadow:0 0 0 2px rgba(242,111,174,.25) inset;
}
.calendar__cell--has-prereserva{
  border-color:rgba(181,140,217,.45);
  background:rgba(181,140,217,.08);
  box-shadow:0 0 0 2px rgba(181,140,217,.25) inset;
}
.calendar__cell--has-cumple{
  border-color:rgba(134,239,172,.45);
  background:rgba(134,239,172,.10);
  box-shadow:0 0 0 2px rgba(134,239,172,.30) inset;
}

/* Si hay mezcla, reservas manda */
.calendar__cell--has-reserva.calendar__cell--has-prereserva,
.calendar__cell--has-reserva.calendar__cell--has-cumple{
  border-color:rgba(242,111,174,.55);
  background:rgba(242,111,174,.10);
}

/* Cursor cuando la celda tenga listado (tu JS marca data-clickable="1" si hay >1) */
.calendar__cell[data-clickable="1"]{ cursor:pointer; }

/* Responsive */
@media (max-width:420px){
  .calendar__controls{ grid-template-columns:40px 1fr 40px; }
  #calGrid.calendar__grid{ gap:6px; }
  .calendar__cell{ border-radius:8px; padding:6px; }
  .calendar__day{
    font-size:1rem;
    padding:6px 4px;
  }
  .calendar__items{
    top:36px;  /* baja un poco en m√≥vil */
    left:6px; right:6px; bottom:6px;
    font-size:.72rem;
  }
}





/* =========================
   Fichas T√©cnicas ‚Äî Estilo final (solo nombre + botones)
   ========================= */

#fichasList .list__item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 14px;
  border: 1px solid var(--border, rgba(255,255,255,0.1));
  border-radius: 10px;
  background: var(--surface-2, rgba(30,28,59,0.9));
  transition: transform 0.2s ease, box-shadow 0.3s ease;
}

#fichasList .list__item:hover {
  box-shadow: 0 6px 16px rgba(0,0,0,0.25);
  transform: translateY(-2px);
}

/* ---- Izquierda: solo nombre ---- */
#fichasList .list__main {
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
}

#fichasList .list__title {
  font-weight: 600;
  color: var(--text, #fff);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ---- Derecha: botones ---- */
#fichasList .list__actions {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
}

/* Fichas t√©cnicas: botones con el MISMO look de ‚ÄúVer reserva‚Äù */
#fichasList .list__actions .btn{
  /* anula el gradiente global de .btn */
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text);

  /* tama√±os alineados al resto del sistema */
  padding: 10px 16px;
  min-height: 44px;
  border-radius: var(--radius-md);
  font-weight: 600;
  line-height: 1;
}

/* hover/active igual que .btn--ghost */
#fichasList .list__actions .btn:hover{
  background: rgba(255,255,255,0.04);
  border-color: var(--primary);
}
#fichasList .list__actions .btn:active{
  transform: translateY(0.5px);
  box-shadow: var(--shadow-soft);
}

/* Opcional: mantener ‚ÄúEliminar‚Äù con outline rojo suave */
#fichasList .btn--delete{
  border-color: rgba(252,165,165,.6);
  color: #fca5a5;
}
#fichasList .btn--delete:hover{
  background: rgba(252,165,165,.08);
  border-color: #fca5a5;
}


/* Hover y feedback */
#fichasList .list__actions .btn:hover {
  filter: brightness(1.07);
  box-shadow: var(--shadow-md);
}
#fichasList .list__actions .btn:active {
  transform: translateY(0);
  box-shadow: var(--shadow-soft);
}
#fichasList .list__actions .btn:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(242,111,174,.25);
}


/* Colores opcionales de acci√≥n */
#fichasList .btn--view { background: var(--lavender); color: #fff; }
#fichasList .btn--edit { background: var(--pink); color: #fff; }
#fichasList .btn--delete { background: var(--danger); color: #fff; }

#fichasList .btn--view:hover { filter: brightness(1.1); }
#fichasList .btn--edit:hover { filter: brightness(1.1); }
#fichasList .btn--delete:hover { filter: brightness(1.1); }

/* ---- Responsive ---- */
@media (max-width: 480px) {
  #fichasList .list__item {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }
  #fichasList .list__actions {
    justify-content: space-between;
  }
  #fichasList .list__actions .btn {
    flex: 1;
    text-align: center;
  }
}









/* =========================
   Popup Ficha T√©cnica
   ========================= */
#fichaPopup {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: var(--surface-3, #2a2445);
  color: #fff;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.3);
  padding: 16px 20px;
  max-width: 320px;
  width: calc(100% - 40px);
  transform: translateY(200%);
  opacity: 0;
  transition: all 0.3s ease;
  z-index: 2000;
}

#fichaPopup.is-visible {
  transform: translateY(0);
  opacity: 1;
}

#fichaPopup .popup__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: var(--pink);
  color: #fff;
  padding: 10px 14px;
  border-radius: 8px 8px 0 0;
}

#fichaPopup .popup__body {
  padding: 12px 10px;
  font-size: 0.9rem;
  line-height: 1.5;
}

#fichaPopup button {
  background: none;
  border: none;
  color: #fff;
  font-size: 1rem;
  cursor: pointer;
}


















/* === Contenedor general de cada ficha === */
.ficha-item {
  background: #1d1b3a; /* fondo principal (aj√∫stalo si usas otro color base) */
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 12px;
  padding: 14px;
  margin: 10px 0;
  display: flex;
  flex-direction: column; /* contenido vertical */
  gap: 14px; /* separaci√≥n entre texto y botones */
  box-sizing: border-box;
}

/* === Nombre y tel√©fono (uno debajo del otro) === */
.ficha-header {
  display: flex;
  flex-direction: column;  /* fuerza el apilado vertical */
  align-items: flex-start; /* alinea a la izquierda */
  gap: 4px;                /* espacio entre nombre y tel√©fono */
}

.ficha-name {
  font-weight: 600;
  font-size: 1rem;
  color: #fff;
}

.ficha-phone {
  color: #bbb; /* tono gris claro */
  font-size: 0.9rem;
}

/* === Botones: ocupan todo el ancho, uno debajo del otro === */
.ficha-actions {
  display: flex;
  flex-direction: column; /* apila los botones */
  gap: 8px;
}

.ficha-actions .btn {
  width: 100%;              /* ancho total del contenedor */
  justify-content: center;  /* centra el texto si usa display:flex */
  border-radius: 8px;
  font-weight: 500;
}

/* Opcional: separar visualmente las fichas */
.ficha-item + .ficha-item {
  margin-top: 12px;
}















/* ====== Turnos: tarjeta clickable ====== */
.turno-item {
  background: var(--surface-2);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 0.75rem 0.9rem;
  margin: 10px 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
  box-sizing: border-box;
  max-width: 100%;
  min-width: 0;

  cursor: pointer; /* ‚Üê important√≠simo: que se sienta ‚Äúclickable‚Äù */

  /* Interacci√≥n visual de Turnos Hoy */
.turno-item {
  cursor: pointer;
  border-radius: var(--radius-md);
  transition:
    background-color var(--trans-med),
    box-shadow var(--trans-med),
    transform var(--trans-fast),
    filter var(--trans-fast);
}

/* Hover: resalta la tarjeta cuando pasas el mouse */
.turno-item:hover {
  background: rgba(242, 111, 174, 0.10); /* rosa suave */
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

/* Activo ‚Äúseleccionado / hundido‚Äù */
.turno-item--active {
  background: rgba(242, 111, 174, 0.18);
  box-shadow: var(--shadow-lg);
  transform: translateY(0);
  filter: brightness(0.98);
}


  /* Transici√≥n suave para hover/active */
  transition:
    background-color var(--trans-med),
    box-shadow       var(--trans-med),
    transform        var(--trans-med),
    filter           var(--trans-fast),
    border-color     var(--trans-med);
}

/* Hover: resaltar turno al pasar el mouse */
#turnosHoyList .turno-item:hover {
  background: rgba(242, 111, 174, 0.12);  /* rosa suave basado en --pink */
  border-color: var(--primary-600);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

/* Active: cuando est√°s haciendo clic (oprimido) */
#turnosHoyList .turno-item:active {
  transform: translateY(0);          /* vuelve a la posici√≥n original */
  box-shadow: var(--shadow-soft);    /* sombra m√°s suave */
  filter: brightness(0.9);           /* se oscurece un poquito */
}


/* Contenedor: #turnosHoyList  -> NO afecta a ning√∫n otro lugar */
#turnosHoyList .turno-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  flex-wrap: nowrap;      /* no saltar de l√≠nea */
  width: 100%;
}

#turnosHoyList .turno-name {
  flex: 1 1 auto;         /* flexible */
  min-width: 0;           /* permite ellipsis dentro de flex */
  font-weight: 600;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;    /* 1 l√≠nea */
}

#turnosHoyList .turno-service {
  flex: 0 0 auto;
  padding: 2px 8px;
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 6px;
  font-size: .82rem;
  background: rgba(255,255,255,.06);
  color: #e9e9e9;
  white-space: nowrap;
}

#turnosHoyList .turno-hour {
  flex: 0 0 auto;
  margin-left: 6px;
  color: #bbb;
  font-size: .9rem;
  white-space: nowrap;
}

/* Botones debajo a ancho completo, SOLO aqu√≠ */
#turnosHoyList .turno-actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
#turnosHoyList .turno-actions .btn {
  width: 100%;
  justify-content: center;
  border-radius: 8px;
  font-weight: 500;
}

/* Mantenerlos en fila tambi√©n en m√≥vil, SOLO aqu√≠ */
@media (max-width: 500px) {
  #turnosHoyList .turno-top { flex-direction: row !important; }
}








/* --- Guardas globales --- */
html, body {
  max-width: 100%;
  overflow-x: hidden;           /* evita scroll horizontal global si algo se escapa */
  box-sizing: border-box;
}
*, *::before, *::after { box-sizing: inherit; }

/* --- Contenedor de la secci√≥n Hoy --- */
#homeView, .section--hoy, #turnosHoyList {
  max-width: 100%;
  overflow-x: hidden;           /* bloquea desbordes locales */
}

/* Fila superior: nombre | servicio | hora */
.turno-top {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto auto; /* la 1¬™ columna puede encogerse */
  gap: .75rem;
  align-items: center;
}

/* Columnas de texto: que puedan encoger y no empujen el ancho */
.turno-name,
.turno-service,
.turno-hour {
  min-width: 0;
}

.turno-name,
.turno-service {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Botonera: que no desborde; si no caben, que bajen de l√≠nea */
.turno-actions {
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;              /* permite saltar de l√≠nea */
  margin-top: .5rem;
}

.turno-actions .btn {
  min-width: 0;
  max-width: 100%;
  flex: 1 1 auto;               /* se adaptan al ancho */
}

/* --- Listas de Cumples / Pre-reservas (por si tambi√©n ensanchan) --- */
.list__item, .pr-header, .pr-meta {
  max-width: 100%;
  min-width: 0;
}

.pr-title, .pr-phone {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.pr-meta {
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;
}

.badge-service {
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Si alguna card hace bleed de ancho, la contenemos */
.card, .card__body {
  max-width: 100%;
  overflow-x: hidden;
}






:root{
  --app-bg:#1d1b3a;            /* tu fondo oscuro */
}

/* 1. Asegura que el color del gutter sea el mismo que el fondo */
html, body{
  background: var(--app-bg) !important;
}

/* 2. Si usas degradados/fondos en <body>, dupl√≠calos tambi√©n en <html> */
html{
  /* si tienes tu fondo con gradientes, reprod√∫celo aqu√≠ tambi√©n */
  /* ejemplo: 
  background:
    radial-gradient(1100px 600px at 15% -10%, rgba(181,140,217,.25), transparent 60%),
    radial-gradient(900px 520px at 110% 0, rgba(242,111,174,.18), transparent 60%),
    var(--app-bg) !important;
  */
}

/* 3. WebKit/Chromium: colorea la pista y la esquina del scrollbar */
html::-webkit-scrollbar-track,
body::-webkit-scrollbar-track,
html::-webkit-scrollbar-corner{
  background: var(--app-bg);
}

/* (opcional) si defines el ancho del scrollbar */
html::-webkit-scrollbar,
body::-webkit-scrollbar{ width: 12px; }










/* D√≠a con eventos: pinta el n√∫mero en rosado */
.calendar__cell--has .calendar__num { color: var(--pink, #ff4fa3); }

/* Contenedor del detalle bajo el calendario */
.caldaylist { 
  margin-top: 10px; 
  padding-top: 8px; 
  border-top: 1px solid var(--border-2, #2a2a2a);
}
.caldaylist .calgroup { margin-bottom: 10px; }
.caldaylist h4 { margin: 6px 0; font-size: 14px; opacity: .9; }
.caldaylist .calitem { 
  background: var(--surface-2, #151515); 
  border-radius: 8px; 
  padding: 6px 8px; 
  margin-bottom: 6px;
}








/* ===== Detalle del d√≠a debajo del calendario ===== */
#calDayInline {
  margin-top: 16px;
  padding: 16px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  animation: fadeIn 0.3s ease;
}

.caldaydetail h3 {
  font-size: 1.1rem;
  color: var(--lavender);
  margin-bottom: 12px;
  text-align: center;
}

.calgroup {
  margin-bottom: 16px;
}

.calgroup:last-child {
  margin-bottom: 0;
}

.calgroup h4 {
  font-size: 0.95rem;
  color: var(--pink);
  margin: 0 0 8px 0;
  font-weight: 600;
}

.calgroup .calitem {
  margin-bottom: 6px;
}

.calgroup .calitem:last-child {
  margin-bottom: 0;
}

/* Animaci√≥n de entrada */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}










/* ===== Items clicables en el detalle del d√≠a ===== */
.calitem--clickable {
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

.calitem--clickable:hover {
  transform: translateX(4px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.calitem--clickable:hover::before {
  content: 'üëÅÔ∏è';
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  opacity: 0.7;
  font-size: 0.9rem;
}

.calitem--clickable:active {
  transform: translateX(2px);
}

/* Indicador visual sutil de que es clicable */
.calitem--clickable::after {
  content: '';
  position: absolute;
  right: 6px;
  top: 50%;
  transform: translateY(-50%);
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
  opacity: 0.3;
}

.calitem--clickable:hover::after {
  display: none; /* se oculta cuando aparece el emoji */
}












/* ===== Event Detail: Popup interactivo con acciones ===== */
.event-detail {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.event-detail__row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.event-detail__row:last-of-type {
  border-bottom: none;
}

.event-detail__label {
  color: var(--muted);
  font-weight: 600;
  font-size: 0.9rem;
}

.event-detail__value {
  color: var(--text);
  font-weight: 600;
}

.event-detail__actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--border);
}

.event-detail__actions .btn {
  width: 100%;
  justify-content: center;
}

.btn--delete {
  border-color: rgba(252, 165, 165, 0.6);
  color: #fca5a5;
}

.btn--delete:hover {
  background: rgba(252, 165, 165, 0.1);
  border-color: #fca5a5;
}

.btn--edit {
  background: linear-gradient(180deg, var(--lavender), var(--plum));
}

/* Responsive: botones en fila en pantallas grandes */
@media (min-width: 480px) {
  .event-detail__actions {
    flex-direction: row;
  }
}












/* ======================
   LISTA DE CUMPLEA√ëOS
   ====================== */

.list--cumples .list__item {
  /* Un solo bloque de contenido, sin columnas estrechas */
  grid-template-columns: 1fr;
}

.list--cumples .pr-header {
  grid-column: 1 / -1;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
}

.list--cumples .pr-title,
.list--cumples .pr-phone {
  /* Forzar que NO haya puntos suspensivos ni corte en una sola l√≠nea */
  white-space: normal;
  overflow: visible;
  text-overflow: clip;
  /* opcionalmente puedes subir un poco el tama√±o si quieres */
  /* font-size: 0.95rem; */
}

.list--cumples .pr-meta {
  grid-column: 1 / -1;
  margin-top: 4px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  font-size: 0.9rem;
}
